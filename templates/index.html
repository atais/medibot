<!DOCTYPE html>
<html>

<head>
    <title>Home</title>
    <style>
        table {
            border-collapse: collapse;
            width: 100%;
        }

        th, td {
            border: 1px solid #ccc;
            padding: 8px;
        }

        th {
            background: #f2f2f2;
        }
    </style>
</head>

<body>
<h1>Hello {{ name }}</h1>

<h1>Create monitor</h1>
<form method="get" action="/search">
    <label for="region_ids">Region ID:</label>
    <input type="text" id="region_ids" name="region_ids" value="204" required>

    <label for="specialty_ids">Specialty IDs (comma separated):</label>
    <input type="text" id="specialty_ids" name="specialty_ids" value="76798" required>

    <label for="start_time">Start Time (YYYY-MM-DD):</label>
    <input type="text" id="start_time" name="start_time" value="2025-09-03" required>
    <br>
    <button type="submit">Search</button>
</form>

<h1>Active monitors</h1>
<table>
    <thead>
        <tr>
            <th>Job ID</th>
            <th>Next Run Time</th>
            <th>Edit</th>
            <th>Remove</th>
        </tr>
    </thead>
    <tbody>
        {% for job in jobs %}
        <tr>
            <td>{{ job.id }}</td>
            <td>{{ job.next_run_time }}</td>
            <td>
                <form method="get" action="/edit_job/{{ job.id }}">
                    <button type="submit" disabled>Edit</button>
                </form>
            </td>
            <td>
                <form method="post" action="/remove_job/{{ job.id }}">
                    <button type="submit">Remove</button>
                </form>
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>

</body>

<!-- Firebase CDN Scripts -->
<script src="https://www.gstatic.com/firebasejs/12.2.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/12.2.1/firebase-messaging-compat.js"></script>

<!-- Include FCM JavaScript for push notifications -->
<script src="/static/fcm.js"></script>

</html>